// Gradle file to build store project

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'war'
archivesBaseName = 'store'

sourceCompatibility = 1.8
targetCompatibility = 1.8

repositories {
    jcenter()
}

dependencies {
	compile 'org.springframework.boot:spring-boot-starter-web:1.4.1.RELEASE'
    compile 'org.springframework.boot:spring-boot-starter-data-jpa:1.4.1.RELEASE'
    compile 'javax.servlet:jstl:1.2'
    compile 'mysql:mysql-connector-java:5.1.37'
    compile 'commons-fileupload:commons-fileupload:1.3.1'
}

// this is target to copy dependency jars and resources into web-inf
task copyLib(type: Copy) {
    into "WebContent/WEB-INF/lib"
    from configurations.runtime
}
task copyResources(type: Copy) {
    into "WebContent"
    from "src/main/webapp/"
}
war.dependsOn(copyLib)
war.dependsOn(copyResources)

